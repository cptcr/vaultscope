<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="VaultScope.UI.App"
             xmlns:vm="using:VaultScope.UI.ViewModels"
             xmlns:views="using:VaultScope.UI.Views"
             RequestedThemeVariant="Dark">

    <Application.DataTemplates>
        <!-- Map ViewModels to Views -->
        <DataTemplate DataType="{x:Type vm:DashboardViewModel}">
            <views:DashboardView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ScannerViewModel}">
            <views:ScannerView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ReportsViewModel}">
            <views:ReportsView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:SettingsViewModel}">
            <views:SettingsView />
        </DataTemplate>
    </Application.DataTemplates>

    <Application.Resources>
        <ResourceDictionary>
            <!-- Include Icon Resources -->
            <ResourceDictionary.MergedDictionaries>
                <ResourceInclude Source="/Resources/Icons.axaml"/>
            </ResourceDictionary.MergedDictionaries>
            
            <!-- REFINED ENTERPRISE COLOR PALETTE -->
        <!-- Base Colors -->
        <Color x:Key="BackgroundPrimary">#0F0F11</Color>
        <Color x:Key="BackgroundSecondary">#1A1A1E</Color>
        <Color x:Key="BackgroundTertiary">#25252A</Color>
        <Color x:Key="SurfacePrimary">#2A2D35</Color>
        <Color x:Key="SurfaceSecondary">#373943</Color>
        
        <!-- Brand Colors -->
        <Color x:Key="PrimaryColor">#6B73FF</Color>
        <Color x:Key="PrimaryLight">#8B93FF</Color>
        <Color x:Key="PrimaryDark">#4B53DF</Color>
        <Color x:Key="AccentColor">#00D9FF</Color>
        <Color x:Key="AccentLight">#33E1FF</Color>
        
        <!-- Text Colors -->
        <Color x:Key="TextPrimary">#FFFFFF</Color>
        <Color x:Key="TextSecondary">#B0B3B8</Color>
        <Color x:Key="TextTertiary">#6B7280</Color>
        <Color x:Key="TextMuted">#4B5563</Color>
        
        <!-- Status Colors -->
        <Color x:Key="SuccessColor">#00C851</Color>
        <Color x:Key="WarningColor">#FFB347</Color>
        <Color x:Key="CriticalColor">#FF5252</Color>
        <Color x:Key="InfoColor">#2196F3</Color>
        <Color x:Key="LowColor">#00C851</Color>
        
        <!-- Legacy Compatibility -->
        <Color x:Key="WhiteTextColor">#FFFFFF</Color>
        
        <!-- SOPHISTICATED BRUSHES -->
        <!-- Backgrounds -->
        <SolidColorBrush x:Key="AppBackgroundBrush" Color="#0F0F11"/>
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="#1A1A1E"/>
        <SolidColorBrush x:Key="SurfaceBrush" Color="#2A2D35"/>
        
        <!-- Glass Effects -->
        <SolidColorBrush x:Key="GlassBrush" Color="#20FFFFFF"/>
        <SolidColorBrush x:Key="GlassCardBrush" Color="#15FFFFFF"/>
        <SolidColorBrush x:Key="GlassHoverBrush" Color="#30FFFFFF"/>
        <SolidColorBrush x:Key="GlassActiveBrush" Color="#40FFFFFF"/>
        
        <!-- Text Brushes -->
        <SolidColorBrush x:Key="PrimaryTextBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="SecondaryTextBrush" Color="#B0B3B8"/>
        <SolidColorBrush x:Key="TertiaryTextBrush" Color="#6B7280"/>
        <SolidColorBrush x:Key="MutedTextBrush" Color="#4B5563"/>
        
        <!-- Status Brushes -->
        <SolidColorBrush x:Key="SuccessBrush" Color="#00C851"/>
        <SolidColorBrush x:Key="WarningBrush" Color="#FFB347"/>
        <SolidColorBrush x:Key="CriticalBrush" Color="#FF5252"/>
        <SolidColorBrush x:Key="InfoBrush" Color="#2196F3"/>
        
        <!-- MODERN GRADIENTS -->
        <LinearGradientBrush x:Key="PrimaryGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#6B73FF" Offset="0"/>
            <GradientStop Color="#4B53DF" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="SecurityGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#6B73FF" Offset="0"/>
            <GradientStop Color="#00D9FF" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="AccentGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#00D9FF" Offset="0"/>
            <GradientStop Color="#33E1FF" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="SuccessGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#00C851" Offset="0"/>
            <GradientStop Color="#00E676" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="WarningGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFB347" Offset="0"/>
            <GradientStop Color="#FFC947" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="CriticalGradientBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF5252" Offset="0"/>
            <GradientStop Color="#FF1744" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- PROFESSIONAL TYPOGRAPHY -->
        <FontFamily x:Key="PrimaryFontFamily">Segoe UI Variable</FontFamily>
        <FontFamily x:Key="SecondaryFontFamily">Segoe UI</FontFamily>
        <FontFamily x:Key="MonoFontFamily">Cascadia Code</FontFamily>
        
        <!-- Typography Scales -->
        <x:Double x:Key="FontSizeHuge">32</x:Double>
        <x:Double x:Key="FontSizeXLarge">28</x:Double>
        <x:Double x:Key="FontSizeLarge">24</x:Double>
        <x:Double x:Key="FontSizeMediumLarge">20</x:Double>
        <x:Double x:Key="FontSizeMedium">16</x:Double>
        <x:Double x:Key="FontSizeSmallMedium">14</x:Double>
        <x:Double x:Key="FontSizeSmall">12</x:Double>
        <x:Double x:Key="FontSizeXSmall">10</x:Double>
        
        <!-- Spacing System -->
        <x:Double x:Key="SpacingXXS">4</x:Double>
        <x:Double x:Key="SpacingXS">8</x:Double>
        <x:Double x:Key="SpacingS">12</x:Double>
        <x:Double x:Key="SpacingM">16</x:Double>
        <x:Double x:Key="SpacingL">24</x:Double>
        <x:Double x:Key="SpacingXL">32</x:Double>
        <x:Double x:Key="SpacingXXL">48</x:Double>
        <x:Double x:Key="SpacingHuge">64</x:Double>
        
        <!-- Border Radius System -->
        <CornerRadius x:Key="RadiusXS">4</CornerRadius>
        <CornerRadius x:Key="RadiusS">6</CornerRadius>
        <CornerRadius x:Key="RadiusM">8</CornerRadius>
        <CornerRadius x:Key="RadiusL">12</CornerRadius>
        <CornerRadius x:Key="RadiusXL">16</CornerRadius>
        <CornerRadius x:Key="RadiusXXL">24</CornerRadius>
        
        <!-- Professional Icons -->
        <PathGeometry x:Key="ShieldCheckIcon">M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z</PathGeometry>
        <PathGeometry x:Key="ShieldIcon">M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z</PathGeometry>
        <PathGeometry x:Key="DashboardIcon">M3,13H11V3H3M3,21H11V15H3M13,21H21V11H13M13,3V9H21V3</PathGeometry>
        <PathGeometry x:Key="ScanIcon">M15.5,14H20.5L18,16.5M9.5,14H14.5L12,16.5M15.5,10H20.5L18,7.5M9.5,10H14.5L12,7.5M12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z</PathGeometry>
        <PathGeometry x:Key="ReportsIcon">M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z</PathGeometry>
        <PathGeometry x:Key="ZapIcon">M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M7,15H9L11,18H13L10,12H8L7,15Z</PathGeometry>
        <PathGeometry x:Key="SettingsIcon">M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z</PathGeometry>
        <PathGeometry x:Key="PlayIcon">M8,5.14V19.14L19,12.14L8,5.14Z</PathGeometry>
        <PathGeometry x:Key="InfoIcon">M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z</PathGeometry>
        <PathGeometry x:Key="ActivityIcon">M22,12L18,8V11H3V13H18V16L22,12Z</PathGeometry>
        <PathGeometry x:Key="ClockIcon">M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.7L16.2,16.2Z</PathGeometry>
        </ResourceDictionary>
    </Application.Resources>

    <Application.Styles>
        <FluentTheme>
            <FluentTheme.Palettes>
                <ColorPaletteResources x:Key="Dark" 
                                     Accent="#8B5CF6" 
                                     AltHigh="#1A1A1A"
                                     AltLow="#0F0F0F"
                                     AltMedium="#151515"
                                     AltMediumHigh="#181818"
                                     AltMediumLow="#121212"
                                     BaseHigh="#FFFFFF"
                                     BaseLow="#4A4A4A"
                                     BaseMedium="#A0A0A0"
                                     BaseMediumHigh="#C0C0C0"
                                     BaseMediumLow="#707070"
                                     ChromeAltLow="#1A1A1A"
                                     ChromeBlackHigh="#000000"
                                     ChromeBlackLow="#1A1A1A"
                                     ChromeBlackMedium="#0A0A0A"
                                     ChromeBlackMediumLow="#0F0F0F"
                                     ChromeDisabledHigh="#333333"
                                     ChromeDisabledLow="#858585"
                                     ChromeGray="#767676"
                                     ChromeHigh="#767676"
                                     ChromeLow="#151515"
                                     ChromeMedium="#1F1F1F"
                                     ChromeMediumLow="#2B2B2B"
                                     ChromeWhite="#FFFFFF"
                                     ListLow="#1F1F1F"
                                     ListMedium="#333333"
                                     RegionColor="#0F0F0F"/>
            </FluentTheme.Palettes>
        </FluentTheme>
        
        <!-- REFINED NAVIGATION STYLES -->
        <Style Selector="Button.nav-button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="{StaticResource SpacingS},{StaticResource SpacingXS}"/>
            <Setter Property="CornerRadius" Value="{StaticResource RadiusM}"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="FontFamily" Value="{StaticResource PrimaryFontFamily}"/>
            <Setter Property="FontSize" Value="{StaticResource FontSizeSmallMedium}"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.2"/>
                    <BrushTransition Property="Foreground" Duration="0:0:0.2"/>
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2"/>
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Button.nav-button:pointerover">
            <Setter Property="Background" Value="{StaticResource GlassBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
            <Setter Property="RenderTransform" Value="translateX(4px)"/>
        </Style>
        <Style Selector="Button.nav-button:pressed">
            <Setter Property="Background" Value="{StaticResource GlassHoverBrush}"/>
            <Setter Property="RenderTransform" Value="translateX(2px) scale(0.98)"/>
        </Style>
        <Style Selector="Button.nav-button.active">
            <Setter Property="Background" Value="{StaticResource PrimaryGradientBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
            <Setter Property="RenderTransform" Value="translateX(6px)"/>
        </Style>
        
        <Style Selector="Button.nav-sub-button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>
        <Style Selector="Button.nav-sub-button:pointerover">
            <Setter Property="Background" Value="#1A1A1A"/>
        </Style>
        
        <Style Selector="Button.quick-action-button">
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
        <Style Selector="Button.quick-action-button:pointerover">
            <Setter Property="Opacity" Value="0.9"/>
        </Style>
        
        <Style Selector="Button.titlebar-button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="46"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style Selector="Button.titlebar-button:pointerover">
            <Setter Property="Background" Value="#2A2A2A"/>
        </Style>
        <Style Selector="Button.titlebar-button.close:pointerover">
            <Setter Property="Background" Value="#E53E3E"/>
        </Style>
        
    </Application.Styles>
</Application>